const container=document.querySelector("[data-container]"),imageBefore=container.querySelector("[data-image1]"),imageAfter=container.querySelector("[data-image2]"),button=container.querySelector("[data-button]"),{x:containerX,width:containerWidth}=container.getBoundingClientRect(),handleDown=e=>{window.addEventListener("mousemove",handleDrag),window.addEventListener("mouseup",handleMouseUp)},handleDrag=e=>{const n=e.clientX-containerX;if(n<0)return;if(n>containerWidth)return;const t=n/containerWidth*100;window.requestAnimationFrame((()=>{button.style.left=n+"px",imageBefore.style=`clip-path: polygon(0 0, ${t}% 0%, ${t}% 100%, 0 100%);`,imageAfter.style=`clip-path: polygon(${t}% 0%, 100% 0%, 100% 100%, ${t}% 100%);`}))},handleMouseUp=()=>{window.removeEventListener("mousemove",handleDrag),window.removeEventListener("mouseup",handleMouseUp)};button&&button.addEventListener("mousedown",handleDown);